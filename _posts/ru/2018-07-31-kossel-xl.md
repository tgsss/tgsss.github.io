---
layout: post
title: "3d принтер Kossel XL."
author: "Антон"
---

{% capture images_path %}
assets/images/posts/{{ page.path | split:"/" | last | split:"." | first }}
{% endcapture %}

### Содержание
1. [Вступление](#intro)
2. [Рама](#frame)
3. [Тяги](#rods)
3. [Каретки и эффектор](#carriages_effector)
4. [Принтер в сборе](#assembly)
5. [Горячий стол](#heatbed)
6. [Autoleveling](#autoleveling)
7. [Что дальше?](#whatsnext)
8. [Послесловие](#outro)

### Вступление <a name="intro"></a>

<!--excerpt-->

С самого детства я очень страдал из-за кривизны собственных рук. И дело тут даже не во мне, а скорее в биомеханической сущности людей – 
если вы хоть раз пытались сделать что-то собственными руками, вы прекрасно понимаете, что почти всегда результат сложно назвать 
идеальным. Наши мышцы не могут управлять конечностями достаточно точно, обеспечивая достаточную повторяемость; глазомер тоже ни 
разу не идеален. Есть два пути, которые позволяют преодолеть эти трудности: очень долго развивать собственные навыки (можно даже 
достичь тут определенных успехов, но несовершенство тела все равно не даст продвинуться выше определенной границы), либо же 
переложить эти проблемы на машины. Я выбрал второй вариант.

Существуют два фундаментальных способа, которые позволяют получить желаемую деталь:

1. Можно взять заготовку из нужного материала и отсечь все лишнее. Такому пути следуют ЧПУ фрезеры.  
2. Можно поступить ровно наоборот – ничего не отсекать, а просто вырастить нужную деталь из нужного материала. Это путь 3д принтеров.

Когда только появились 3д принтеры, мне казалось, что это просто игрушки. Тогда я испытывал гораздо больше симпатий к ЧПУ фрезерам. 
Казалось, преимущества очевидны: ЧПУ фрезеры могут обрабатывать что угодно, даже металлы. А из металлов уже можно создавать 
серьезные вещи – прочные, легкие. Ну а что могут принтеры: материал – только пластик, притом детали создаются послойно. Кто гарантирует, 
что слои будут нормально держаться друг за друга?

Я ошибался. Забегая вперед, могу сказать следующее: напечатанные детали вполне себе прочные (даже в том случае, когда они преимущественно
состоят из пустоты – сплошные только внешние поверхности, сетчатая структура внутри).

Однако, на момент начала постройки этого принтера, я все еще был убежден, что получится игрушка, которую не особенно получится 
применить для чего-то полезного. И начал строить его в общем-то просто так, чтобы развеять скуку.

По причинам, которые сейчас уже не кажутся достаточно убедительными, чтобы приводить их здесь, была выбрана неортогональная кинематика.
Не хотелось разрабатывать конструкцию с нуля, так что в качестве основы была выбрана opensource конструкция – Kossel XL.

### Рама <a name="frame"></a>

{% include clickableImage.html path=images_path name="frame1.jpg" %}
{% include clickableImage.html path=images_path name="frame2.jpg" %}
{% include clickableImage.html path=images_path name="frame3.jpg" %}

### Тяги <a name="rods"></a>

Мне не повезло с карбоновыми трубками для тяг. Диаметр отверстия в них – 3 мм, резьба же в шариках – М4. В качестве соединителей 
решил использовать отрезки винтов М3. В шарики их пришлось вклеивать эпоксидкой:

{% include clickableImage.html path=images_path name="rods1.jpg" %}

После этого выбрал из карбоновых трубок самую длинную и сделал первую тягу:

{% include clickableImage.html path=images_path name="rods2.jpg" %}

После того, как первая тяга готова, необходимо было сделать шаблон, с помощью которого изготавливаются остальные (это нужно для того, 
чтобы все тяги получились одной и то же длины). Напечатал для этого пару креплений:

{% include clickableImage.html path=images_path name="rods3.jpg" %}

Зафиксировал крепления на профиле, использовав первую тягу как образец:

{% include clickableImage.html path=images_path name="rods4.jpg" %}

После этого, использовав изготовленный шаблон, склеил остальные:

{% include clickableImage.html path=images_path name="rods5.jpg" %}

### Каретки и эффектор <a name="carriages_effector"></a>

Для удобства замоделил весь принтер в солиде:

{% include clickableImage.html path=images_path name="printer_assembly.png" %}

Замоделил эффектор и каретки:

{% include clickableImage.html path=images_path name="carriage_model.png" %}
{% include clickableImage.html path=images_path name="effector_model.png" %}

Изготовил их из алюминия:

{% include clickableImage.html path=images_path name="parts1.jpg" %}
{% include clickableImage.html path=images_path name="parts2.jpg" %}

### Принтер в сборе <a name="assembly"></a>

Первый раз собрал все в кучу:

{% include clickableImage.html path=images_path name="assembly1.jpg" %}
{% include clickableImage.html path=images_path name="assembly2.jpg" %}
{% include clickableImage.html path=images_path name="assembly3.jpg" %}

### Горячий стол <a name="heatbed"></a>

Не удалось найти подходящий горячий стол в продаже (хотелось стол достаточной мощности; 220 вольт), поэтому решил сделать
его самостоятельно. В качестве нагревателей – позисторы со следующими характеристиками:

1. Рабочая температура – 200 градусов Цельсия (для ее регулировки предусмотрен симисторный регулятор мощности).
2. Мощность – 200 Вт

Сначала нужно было понять, как именно располагать нагреватели. Цель заключалась в достижении максимальной равномерности нагрева 
горячего стола. Тепловое моделирование проводилось в солиде. В итоге пришел к такому варианту (максимальный перепад температур не 
превышает пары градусов):

{% include clickableImage.html path=images_path name="heatbed3.jpg" %}

Потом сделал модель:

{% include clickableImage.html path=images_path name="table_exploded.png" %}

Для того, чтобы еще сильнее уменьшить время нагрева, а также чтобы предотвратить уход тепла, снизу предусмотрен пробковый короб 
(изготовлен из множества слоев пробки толщиной ~2 мм, слои проклеены между собой высокотемпературным силиконовым герметиком):

{% include clickableImage.html path=images_path name="heatbed2.jpg" %}

Плата, через которую нагреватели подключаются к регулятору мощности (также содержит разъем для подключения термистора):

{% include clickableImage.html path=images_path name="heatbed1.jpg" %}

Что получилось в итоге:

{% include clickableImage.html path=images_path name="table_top.jpg" %}
{% include clickableImage.html path=images_path name="table_bottom.jpg" %}

### Autoleveling <a name="autoleveling"></a>

Необходим был датчик, который ловил бы момент, когда сопло коснулось стола. Из существующих решений мне понравилось только решение с 
fsr, которые, однако, весьма дороги. Мой приятель предложил альтернативу – пьезоэлементы, которые на али и прочих барахолках продают 
по 10 рублей за штуку. Последующее гугление также показало, что похожие проекты уже есть, поэтому схему было решено не изобретать, 
а нагло позаимствовать оттуда. После доработки -- замены операционников на дешевые аналоги (подойдут практически любые rail-to-rail 
операционники, способные питаться от нужного напряжения) и доработки защиты входов -- она приобрела следующий вид:

{% include clickableImage.html path=images_path name="autoleveling1.png" %}

В сборе:

{% include clickableImage.html path=images_path name="autoleveling2.jpg" %}
{% include clickableImage.html path=images_path name="autoleveling3.jpg" %}

Небольшое видео  с тестом (смотреть нужно на зеленый светодиод на лежащей справа плате):

{% include youtube.html id="Ikyw4o_hFkg" width="100%" %}

### Что дальше? <a name="whatsnext"></a>

В момент, когда все было практически готово, выяснилась одна неприятная вещь: получившаяся рама такова, что на ней сложно закрепить
корпус (термокамеру). В попытках решить эту проблему я сделал в солиде несколько прототипов, но все они по тем или иным причинам
меня не устроили. Вот они:

**Версия 1.1**: стандартная рама, поверх которой закреплена термокамера, согнутая из алюминия, электроника расположена сверху:

{% include clickableImage.html path=images_path name="prototype_1_1.png" %}

**Версия 1.2**: попытка расположить электронику снизу, используя стандартные компоненты для рамы:

{% include clickableImage.html path=images_path name="prototype_1_2.png" %}

**Версия 1.3**: стандартная рама; термокамера сделана из отдельных алюминиевых пластин (вместо гибки):

{% include clickableImage.html path=images_path name="prototype_1_3.png" %}

**Версия 1.4**: рама, полностью сделанная из гнутых стальных листов; алюминиевый профиль более не используется:

{% include clickableImage.html path=images_path name="prototype_1_4.png" %}

**Версия 1.5**: стандартная рама, угловые элементы корпуса напечатаны из АБС (идея взята [отсюда](https://www.youtube.com/watch?v=w0yofVDWWnc)):

{% include clickableImage.html path=images_path name="prototype_1_5.png" %}

Увы, вариант, который меня бы устроил, пока не появился (кстати, в момент написания этой статьи я обдумываю очередной). Однако, 
если он все-таки появится, у этой статьи обязательно появится продолжение.

### Послесловие <a name="outro"></a>

К сожалению, этот проект так никогда и не был полностью закончен. 3д принтеры стремительно развиваются, поэтому, пока я раздумывал 
над конструкцией термокамеры, слишком многие аспекты этого проекта успели устареть.  Однако, несомненно, этот проект имеет большую ценность, 
поскольку он принёс мне кучу знаний и нового опыта.